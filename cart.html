<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Cart | MyPharmAlly</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="navbar">
    <h1>MyPharmAlly</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="buy-medicines.html">Buy Medicines</a>
    </nav>
  </header>

  <section class="cart-section">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <div id="cartTotal" class="cart-total"></div>
    <button id="checkoutBtn" class="btn">Proceed to Checkout</button>
  </section>

  <script>
    const cart = JSON.parse(localStorage.getItem("mypharm_cart")) || {};
    const itemsContainer = document.getElementById("cartItems");
    const totalDisplay = document.getElementById("cartTotal");

    const medicineData = {
      1: { name: "Paracetamol", price: 30 },
      2: { name: "Metformin", price: 55 },
      3: { name: "Cetrizine", price: 25 },
      4: { name: "Vitamin D3", price: 90 },
      5: { name: "Baby Lotion", price: 120 },
    };

    function renderCart() {
      itemsContainer.innerHTML = "";
      let total = 0;
      Object.keys(cart).forEach(id => {
        const med = medicineData[id];
        const qty = cart[id];
        const itemTotal = med.price * qty;
        total += itemTotal;

        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          <h4>${med.name}</h4>
          <p>₹${med.price} × ${qty} = ₹${itemTotal}</p>
        `;
        itemsContainer.appendChild(div);
      });

      if (total === 0) {
        itemsContainer.innerHTML = "<p>Your cart is empty.</p>";
        document.getElementById("checkoutBtn").style.display = "none";
      } else {
        totalDisplay.innerText = `Total: ₹${total}`;
        document.getElementById("checkoutBtn").style.display = "block";
      }
    }

    renderCart();

    document.getElementById("checkoutBtn").addEventListener("click", () => {
      window.location.href = "checkout.html";
    });
  </script>
</body>
</html>
